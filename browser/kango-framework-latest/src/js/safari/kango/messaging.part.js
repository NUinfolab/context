kango.MessageRouter=function(){this.superclass.apply(this,arguments);safari.application.addEventListener("message",kango.func.bind(this._onMessage,this),!1)};
kango.MessageRouter.prototype=kango.oop.extend(kango.MessageRouterBase,{_onMessage:function(a){if(a.target instanceof SafariBrowserTab){var b={name:a.name,data:a.message,origin:"tab",target:kango.browser.getKangoTab(a.target),source:{dispatchMessage:function(b,c){a.target.page.dispatchMessage(b,c);return!0}}};this.fireMessageEvent(kango.event.MESSAGE,b)}else kango.console.log("Messaging supported only for SafariBrowserTab targets")}});
